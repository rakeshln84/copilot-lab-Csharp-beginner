# Create Music Store CRUD Operations

```csharp

    public class Album
    {
        public int Id { get; set; }
        public string Title { get; set; }
        public string Artist { get; set; }
        public DateTime ReleaseDate { get; set; }
        public string Genre { get; set; }

        public Album(int id, string title, string artist, DateTime releaseDate, string genre)
        {
            Id = id;
            Title = title;
            Artist = artist;
            ReleaseDate = releaseDate;
            Genre = genre;
        }

        public override string ToString()
        {
            return $"Album: {Title}, Artist: {Artist}, Released: {ReleaseDate.ToShortDateString()}, Genre: {Genre}";
        }
    }

```

```csharp

   public class Genre
 {
     public int Id { get; set; }
     public string Name { get; set; }

     public Genre(int id, string name)
     {
         Id = id;
         Name = name;
     }

     public override string ToString()
     {
         return $"Genre: {Name}";
     }
 }

```

Replace Genre property from string to type Genre

```csharp

         // Sample Genres
         var rock = new Genre(1, "Rock");
         var pop = new Genre(2, "Pop");
         var jazz = new Genre(3, "Jazz");

         // Sample Albums
         var albums = new List<Album>
         {
             new Album(1, "The Dark Side of the Moon", "Pink Floyd", new DateTime(1973, 3, 1), rock),
             new Album(2, "Thriller", "Michael Jackson", new DateTime(1982, 11, 30), pop),
             new Album(3, "Kind of Blue", "Miles Davis", new DateTime(1959, 8, 17), jazz)
         };

         // Print sample albums
         foreach (var album in albums)
         {
             Console.WriteLine(album);
         }
```

Use Copilot to generate more albums

Create a class for MusicStoreRepository

Use Copilot to generate the CRUD operations

```csharp

        public class MusicStoreRepository
  {
      private List<Album> _albums;

      public MusicStoreRepository()
      {
          _albums = new List<Album>
          {
              new Album(1, "The Dark Side of the Moon", "Pink Floyd", new DateTime(1973, 3, 1), new Genre(1, "Rock")),
              new Album(2, "Thriller", "Michael Jackson", new DateTime(1982, 11, 30), new Genre(2, "Pop")),
              new Album(3, "Kind of Blue", "Miles Davis", new DateTime(1959, 8, 17), new Genre(3, "Jazz"))
          };
      }

      public List<Album> GetAlbums()
      {
          return _albums;
      }

      public Album GetAlbum(int id)
      {
          return _albums.FirstOrDefault(a => a.Id == id);
      }

      public void AddAlbum(Album album)
      {
          _albums.Add(album);
      }

      public void UpdateAlbum(Album album)
      {
          var existingAlbum = _albums.FirstOrDefault(a => a.Id == album.Id);
          if (existingAlbum != null)
          {
              existingAlbum.Title = album.Title;
              existingAlbum.Artist = album.Artist;
              existingAlbum.ReleaseDate = album.ReleaseDate;
              existingAlbum.Genre = album.Genre;
          }
      }

      public void DeleteAlbum(int id)
      {
          var album = _albums.FirstOrDefault(a => a.Id == id);
          if (album != null)
          {
              _albums.Remove(album);
          }
      }
  }
```

use copilot to modify Program file to use the new repository and print the albums

```csharp

       public static void Main(string[] args)
        {
            // Instantiate the repository
            var musicStoreRepository = new MusicStoreRepository();

            // Get all albums
            var albums = musicStoreRepository.GetAlbums();

            // Print all albums
            foreach (var album in albums)
            {
                Console.WriteLine(album);
            }
        }
```

use copilot to search albums by title

```csharp

  public List<Album> SearchAlbumsByTitle(string title)
 {
     return _albums.Where(a => a.Title == title).ToList();
 }

```

use copilot to search albums by artist

```csharp

  public List<Album> SearchAlbumsByArtist(string artist)
 {
     return _albums.Where(a => a.Artist == artist).ToList();
 }

```

use copilot to get all albums by genre

```csharp
public List<Album>SearchAlbumsByGenre(string genre)
{
    var genreId = _albums.FirstOrDefault(a => a.Genre.Name == genre)?.Genre.Id;
    if (genreId != null)
        return _albums.Where(a => a.Genre.Id == genreId).ToList();
    return new List<Album>();
}

```
